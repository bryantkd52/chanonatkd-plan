<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1, viewport-fit=cover" />
  <title>ChanonaTKD ‚Ä¢ Plan</title>
  <link rel="stylesheet" href="./styles.css">
</head>

<body>
  <div class="appShell">
    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="brandText">
          <h1>ChanonaTKD ‚Ä¢ Plan</h1>
          <p id="brandSub">Cargando alumno‚Ä¶</p>
        </div>
      </div>

      <div class="menu" id="menu">
        <button class="btn active" data-tab="resumen"><span class="dot"></span> Resumen</button>
        <button class="btn" data-tab="isometrico"><span class="dot"></span> Isom√©trico Activo</button>
        <button class="btn" data-tab="pateo"><span class="dot"></span> Trabajo T√©cnico Pateo</button>
        <button class="btn" data-tab="poomsae"><span class="dot"></span> Trabajo T√©cnico Poomsae</button>
        <button class="btn" data-tab="extras"><span class="dot"></span> Extras</button>
        <button class="btn" data-tab="apuntes"><span class="dot"></span> Apuntes</button>
        <button class="btn" data-tab="notas"><span class="dot"></span> Notas Finales</button>
      </div>

      <div class="mini">
        Tip: toca un ejercicio y usa <b>‚ÄúReproducir‚Äù</b>. El reproductor se abre como una ventana pro dentro del plan.
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <div class="topbar">
        <div class="titleBlock">
          <h2 id="planTitle">Plan ‚Ä¢ Cargando‚Ä¶</h2>
          <div class="sub" id="planSub">Cargando ciclo y alumno‚Ä¶</div>
        </div>

        <div class="chipRow">
          <div class="chip red" id="chipFocus">üéØ Enfoque: ‚Äî</div>
          <div class="chip">üî• ChanonaTKD</div>
          <div class="chip" id="chipUpdated">üïí ‚Äî</div>
        </div>
      </div>

      <div class="content" id="content">
        <div class="loaderCard">
          <div class="loaderTitle">Cargando tu plan‚Ä¶</div>
          <div class="loaderSub">Si no carga, revisa el link del alumno.</div>
        </div>
      </div>
    </main>
  </div>

  <!-- MODAL PLAYER (ventana pro) -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modalBackdrop" id="modalBackdrop"></div>

    <div class="modalPanel" role="dialog" aria-modal="true">
      <div class="modalHead">
        <div>
          <div class="modalTitle" id="modalTitle">Reproductor Chanona</div>
          <div class="modalSub" id="modalSub">‚Äî</div>
        </div>

        <div class="modalHeadActions">
          <a class="action" id="openDriveBtn" href="#" target="_blank" rel="noreferrer">‚Üó Abrir en Drive</a>
          <button class="action danger" id="closeModal" type="button">‚úï Cerrar</button>
        </div>
      </div>

      <div class="modalBody">
        <!-- VIDEO -->
        <div class="mediaBox" id="videoBox" style="display:none;">
          <iframe id="videoFrame" title="Reproductor de video" src="about:blank"></iframe>
        </div>

        <!-- AUDIO -->
        <div class="mediaBox" id="audioBox" style="display:none;">
          <audio id="audioPlayer" controls preload="none"></audio>
        </div>

        <!-- CONTROLES -->
        <div class="controls">
          <div class="controlGroup">
            <label class="label">Velocidad</label>
            <div class="speedRow" id="speedRow">
              <button class="pillBtn" data-speed="0.5">0.5x</button>
              <button class="pillBtn" data-speed="0.75">0.75x</button>
              <button class="pillBtn active" data-speed="1">1x</button>
              <button class="pillBtn" data-speed="1.25">1.25x</button>
              <button class="pillBtn" data-speed="1.5">1.5x</button>
              <button class="pillBtn" data-speed="2">2x</button>
            </div>
          </div>

          <div class="controlGroup" id="loopGroup" style="display:none;">
            <label class="label">Audio</label>
            <label class="toggle">
              <input type="checkbox" id="loopToggle">
              Repetir en bucle (Loop)
            </label>
          </div>

          <div class="hint" id="modalHint">
            Tip: Si Drive bloquea audio, usa ‚ÄúAbrir en Drive‚Äù o usa mp3 directo.
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
